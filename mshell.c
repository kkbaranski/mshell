/*//////////////////////////////////////////////////////////////////////
//                                                                    //
//                                                                    //
//                   ,----------------,              ,---------,      //
//              ,-----------------------,          ,"        ,"|      //
//            ,"                      ,"|        ,"        ,"  |      //
//           +-----------------------+  |      ,"        ,"    |      //
//           |  .-----------------.  |  |     +---------+      |      //
//           |  | bash$ ./mshell  |  |  |     | -==----'|      |      //
//           |  | $ cd /home      |  |  |     |         |      |      //
//           |  | $ ls            |  |  |/----|`---=    |      |      //
//           |  | krzysztof       |  |  |   ,/|==== ooo |      ;      //
//           |  | $               |  |  |  // |(((( [33]|    ,"       //
//           |  `-----------------'  |," .;'| |((((     |  ,"         //
//           +-----------------------+  ;;  | |         |,"           //
//              /_)______________(_/  //'   | +---------+             //
//         ___________________________/___  `,                        //
//        /  oooooooooooooooo  .o.  oooo /,   \,"-----------          //
//       / ==ooooooooooooooo==.o.  ooo= //   ,`\--{)B     ,"          //
//      /_==__==========__==_ooo__ooo=_/'   /___________,"            //
//      `-----------------------------'                               //
//                                  _          _ _                    //
//                                 | |        | | |                   //
//                    _ __ ___  ___| |__   ___| | |                   //
//                   | '_ ` _ \/ __| '_ \ / _ \ | |                   //
//                   | | | | | \__ \ | | |  __/ | |                   //
//                   |_| |_| |_|___/_| |_|\___|_|_|                   //
//                                                                    //
//                           ( mshell.h )                             //
//                                                                    //
////////////////////////////////////////////////////////////////////////
///-------------- Copyright Â© 2014 Krzysztof Baranski  --------------///
//////////////////////////////////////////////////////////////////////*/

//==========================================================| INCLUDE
#include <stdlib.h>
#include "config.h"
#include "debug.h"
#include "reader.h"
#include "utils.h"

//==========================================================| MAIN
int main( int argc, char *argv[] ) {
	DEBUG_LEVEL = 0;

	logger log = { debug_function };
	log.debug( INFO(1), "SHELL START" );
	
	int status;
	char* new_line;
	line* parsed_line;
	
    shell_init();
    while( ! is_end_of_file() ) {
        print_prompt();
        new_line = get_line();
        if( !new_line ) continue;
        parsed_line = parseline( new_line );
        execute_line( parsed_line );   
    }
    
    log.debug( INFO(1), "SHELL STOP" );
    exit( EXIT_SUCCESS );
}
